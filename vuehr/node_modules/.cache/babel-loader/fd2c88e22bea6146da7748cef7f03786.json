{"remainingRequest":"F:\\java-workspace\\vhr\\vuehr\\node_modules\\babel-loader\\lib\\index.js!F:\\java-workspace\\vhr\\vuehr\\src\\store\\index.js","dependencies":[{"path":"F:\\java-workspace\\vhr\\vuehr\\src\\store\\index.js","mtime":1603092858981},{"path":"F:\\java-workspace\\vhr\\vuehr\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\java-workspace\\vhr\\vuehr\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKVnVlLnVzZShWdWV4KTsKdmFyIG5vdyA9IG5ldyBEYXRlKCk7CnZhciBzdG9yZSA9IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgcm91dGVzOiBbXSwKICAgIHNlc3Npb25zOiBbewogICAgICBpZDogMSwKICAgICAgdXNlcjogewogICAgICAgIG5hbWU6ICfnpLrkvovku4vnu40nLAogICAgICAgIGltZzogJy4uL3NyYy9hc3NldHMvaW1hZ2VzLzIucG5nJwogICAgICB9LAogICAgICBtZXNzYWdlczogW3sKICAgICAgICBjb250ZW50OiAnSGVsbG/vvIzov5nmmK/kuIDkuKrln7rkuo5WdWUgKyBWdWV4ICsgV2VicGFja+aehOW7uueahOeugOWNlWNoYXTnpLrkvovvvIzogYrlpKnorrDlvZXkv53lrZjlnKhsb2NhbFN0b3JnZSwg5pyJ5LuA5LmI6Zeu6aKY5Y+v5Lul6YCa6L+HR2l0aHViIElzc3Vl6Zeu5oiR44CCJywKICAgICAgICBkYXRlOiBub3cKICAgICAgfSwgewogICAgICAgIGNvbnRlbnQ6ICfpobnnm67lnLDlnYAo5Y6f5L2c6ICFKTogaHR0cHM6Ly9naXRodWIuY29tL2NvZmZjZXIvdnVlLWNoYXQnLAogICAgICAgIGRhdGU6IG5vdwogICAgICB9LCB7CiAgICAgICAgY29udGVudDogJ+acrOmhueebruWcsOWdgCjph43mnoQpOiBodHRwczovL2dpdGh1Yi5jb20vaXMtbGl5aXdlaScsCiAgICAgICAgZGF0ZTogbm93CiAgICAgIH1dCiAgICB9LCB7CiAgICAgIGlkOiAyLAogICAgICB1c2VyOiB7CiAgICAgICAgbmFtZTogJ3dlYnBhY2snLAogICAgICAgIGltZzogJy4uL3NyYy9hc3NldHMvaW1hZ2VzLzMuanBnJwogICAgICB9LAogICAgICBtZXNzYWdlczogW3sKICAgICAgICBjb250ZW50OiAnSGnvvIzmiJHmmK93ZWJwYWNr5ZOmJywKICAgICAgICBkYXRlOiBub3cKICAgICAgfV0KICAgIH1dLAogICAgY3VycmVudFNlc3Npb25JZDogMSwKICAgIGZpbHRlcktleTogJycKICB9LAogIG11dGF0aW9uczogewogICAgaW5pdFJvdXRlczogZnVuY3Rpb24gaW5pdFJvdXRlcyhzdGF0ZSwgZGF0YSkgewogICAgICBzdGF0ZS5yb3V0ZXMgPSBkYXRhOwogICAgfSwKICAgIGNoYW5nZUN1cnJlbnRTZXNzaW9uSWQ6IGZ1bmN0aW9uIGNoYW5nZUN1cnJlbnRTZXNzaW9uSWQoc3RhdGUsIGlkKSB7CiAgICAgIHN0YXRlLmN1cnJlbnRTZXNzaW9uSWQgPSBpZDsKICAgIH0sCiAgICBhZGRNZXNzYWdlOiBmdW5jdGlvbiBhZGRNZXNzYWdlKHN0YXRlLCBtc2cpIHsKICAgICAgc3RhdGUuc2Vzc2lvbnNbc3RhdGUuY3VycmVudFNlc3Npb25JZCAtIDFdLm1lc3NhZ2VzLnB1c2goewogICAgICAgIGNvbnRlbnQ6IG1zZywKICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLAogICAgICAgIHNlbGY6IHRydWUKICAgICAgfSk7CiAgICB9LAogICAgSU5JVF9EQVRBOiBmdW5jdGlvbiBJTklUX0RBVEEoc3RhdGUpIHsKICAgICAgdmFyIGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndnVlLWNoYXQtc2Vzc2lvbicpOyAvL2NvbnNvbGUubG9nKGRhdGEpCgogICAgICBpZiAoZGF0YSkgewogICAgICAgIHN0YXRlLnNlc3Npb25zID0gSlNPTi5wYXJzZShkYXRhKTsKICAgICAgfQogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgaW5pdERhdGE6IGZ1bmN0aW9uIGluaXREYXRhKGNvbnRleHQpIHsKICAgICAgY29udGV4dC5jb21taXQoJ0lOSVRfREFUQScpOwogICAgfQogIH0KfSk7CnN0b3JlLndhdGNoKGZ1bmN0aW9uIChzdGF0ZSkgewogIHJldHVybiBzdGF0ZS5zZXNzaW9uczsKfSwgZnVuY3Rpb24gKHZhbCkgewogIGNvbnNvbGUubG9nKCdDSEFOR0U6ICcsIHZhbCk7CiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Z1ZS1jaGF0LXNlc3Npb24nLCBKU09OLnN0cmluZ2lmeSh2YWwpKTsKfSwgewogIGRlZXA6IHRydWUKICAvKui/meS4quiyjOS8vOaYr+W8gOWQr3dhdGNo55uR5rWL55qE5Yik5patLOWumOaWueivtOaYjuS5n+avlOi+g+aooeeziiovCgp9KTsKZXhwb3J0IGRlZmF1bHQgc3RvcmU7"},{"version":3,"sources":["F:/java-workspace/vhr/vuehr/src/store/index.js"],"names":["Vue","Vuex","use","now","Date","store","Store","state","routes","sessions","id","user","name","img","messages","content","date","currentSessionId","filterKey","mutations","initRoutes","data","changeCurrentSessionId","addMessage","msg","push","self","INIT_DATA","localStorage","getItem","JSON","parse","actions","initData","context","commit","watch","val","console","log","setItem","stringify","deep"],"mappings":"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","sourcesContent":["import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\n\r\nVue.use(Vuex)\r\n\r\nconst now = new Date();\r\nconst store = new Vuex.Store({\r\n    state: {\r\n        routes: [],\r\n        sessions: [{\r\n            id: 1,\r\n            user: {\r\n                name: '示例介绍',\r\n                img: '../src/assets/images/2.png'\r\n            },\r\n            messages: [{\r\n                content: 'Hello，这是一个基于Vue + Vuex + Webpack构建的简单chat示例，聊天记录保存在localStorge, 有什么问题可以通过Github Issue问我。',\r\n                date: now\r\n            }, {\r\n                content: '项目地址(原作者): https://github.com/coffcer/vue-chat',\r\n                date: now\r\n            }, {\r\n                content: '本项目地址(重构): https://github.com/is-liyiwei',\r\n                date: now\r\n            }]\r\n        }, {\r\n            id: 2,\r\n            user: {\r\n                name: 'webpack',\r\n                img: '../src/assets/images/3.jpg'\r\n            },\r\n            messages: [{\r\n                content: 'Hi，我是webpack哦',\r\n                date: now\r\n            }]\r\n        }],\r\n        currentSessionId: 1,\r\n        filterKey: ''\r\n    },\r\n    mutations: {\r\n        initRoutes(state, data) {\r\n            state.routes = data;\r\n        },\r\n        changeCurrentSessionId(state, id) {\r\n            state.currentSessionId = id;\r\n        },\r\n        addMessage(state, msg) {\r\n            state.sessions[state.currentSessionId - 1].messages.push({\r\n                content: msg,\r\n                date: new Date(),\r\n                self: true\r\n            })\r\n        },\r\n        INIT_DATA(state) {\r\n            let data = localStorage.getItem('vue-chat-session');\r\n            //console.log(data)\r\n            if (data) {\r\n                state.sessions = JSON.parse(data);\r\n            }\r\n        }\r\n    },\r\n    actions: {\r\n        initData (context) {\r\n            context.commit('INIT_DATA')\r\n        }\r\n    }\r\n})\r\n\r\nstore.watch(function (state) {\r\n    return state.sessions\r\n},function (val) {\r\n    console.log('CHANGE: ', val);\r\n    localStorage.setItem('vue-chat-session', JSON.stringify(val));\r\n},{\r\n    deep:true/*这个貌似是开启watch监测的判断,官方说明也比较模糊*/\r\n})\r\n\r\n\r\nexport default store;"]}]}