{"remainingRequest":"F:\\java-workspace\\vhr\\vuehr\\node_modules\\babel-loader\\lib\\index.js!F:\\java-workspace\\vhr\\vuehr\\src\\utils\\api.js","dependencies":[{"path":"F:\\java-workspace\\vhr\\vuehr\\src\\utils\\api.js","mtime":1602032640547},{"path":"F:\\java-workspace\\vhr\\vuehr\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\java-workspace\\vhr\\vuehr\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICJlbGVtZW50LXVpIjsKaW1wb3J0IHJvdXRlciBmcm9tICJAL3JvdXRlciI7CmF4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHN1Y2Nlc3MpIHsKICBpZiAoc3VjY2Vzcy5zdGF0dXMgJiYgc3VjY2Vzcy5zdGF0dXMgPT0gMjAwICYmIHN1Y2Nlc3MuZGF0YS5zdGF0dXMgPT0gNTAwKSB7CiAgICBNZXNzYWdlLmVycm9yKHsKICAgICAgbWVzc2FnZTogc3VjY2Vzcy5kYXRhLm1zZwogICAgfSk7CiAgICByZXR1cm47CiAgfQoKICBpZiAoc3VjY2Vzcy5kYXRhLm1zZykgewogICAgTWVzc2FnZS5zdWNjZXNzKHsKICAgICAgbWVzc2FnZTogc3VjY2Vzcy5kYXRhLm1zZwogICAgfSk7CiAgfQoKICByZXR1cm4gc3VjY2Vzcy5kYXRhOwp9LCBmdW5jdGlvbiAoZXJyKSB7CiAgaWYgKGVyci5yZXNwb25zZS5zdGF0dXMgPT0gNTA0IHx8IGVyci5yZXNwb25zZS5zdGF0dXMgPT0gNDA0KSB7CiAgICBNZXNzYWdlLmVycm9yKHsKICAgICAgbWVzc2FnZTogJ+acjeWKoeWZqOiiq+WQg+S6hm8o4pWv4pah4pWwKW8nCiAgICB9KTsKICB9IGVsc2UgaWYgKGVyci5yZXNwb25zZS5zdGF0dXMgPT0gNDAzKSB7CiAgICBNZXNzYWdlLmVycm9yKHsKICAgICAgbWVzc2FnZTogJ+adg+mZkOS4jei2s++8jOivt+iBlOezu+euoeeQhuWRmCcKICAgIH0pOwogIH0gZWxzZSBpZiAoZXJyLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDEpIHsKICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICBtZXNzYWdlOiAn5bCa5pyq55m75b2V77yM6K+355m75b2VJwogICAgfSk7CiAgICByb3V0ZXIucmVwbGFjZSgnLycpOwogIH0gZWxzZSB7CiAgICBpZiAoZXJyLnJlc3BvbnNlLmRhdGEubXNnKSB7CiAgICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICAgIG1lc3NhZ2U6IGVyci5yZXNwb25zZS5kYXRhLm1zZwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICAgIG1lc3NhZ2U6ICLmnKrnn6XplJnor6/vvIEiCiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuOwp9KTsKdmFyIGJhc2UgPSAnJzsKZXhwb3J0IHZhciBwb3N0S2V5VmFsdWVSZXF1ZXN0ID0gZnVuY3Rpb24gcG9zdEtleVZhbHVlUmVxdWVzdCh1cmwsIHBhcmFtcykgewogIHJldHVybiBheGlvcyh7CiAgICBtZXRob2Q6ICdwb3N0JywKICAgIHVybDogIiIuY29uY2F0KGJhc2UpLmNvbmNhdCh1cmwpLAogICAgZGF0YTogcGFyYW1zLAogICAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIChkYXRhKSB7CiAgICAgIHZhciByZXQgPSAnJzsKCiAgICAgIGZvciAodmFyIGkgaW4gZGF0YSkgewogICAgICAgIHJldCArPSBlbmNvZGVVUklDb21wb25lbnQoaSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZGF0YVtpXSkgKyAnJic7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKHJldCk7CiAgICAgIHJldHVybiByZXQ7CiAgICB9XSwKICAgIGhlYWRlcnM6IHsKICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnCiAgICB9CiAgfSk7Cn07CmV4cG9ydCB2YXIgcG9zdFJlcXVlc3QgPSBmdW5jdGlvbiBwb3N0UmVxdWVzdCh1cmwsIHBhcmFtcykgewogIHJldHVybiBheGlvcyh7CiAgICBtZXRob2Q6ICdwb3N0JywKICAgIHVybDogIiIuY29uY2F0KGJhc2UpLmNvbmNhdCh1cmwpLAogICAgZGF0YTogcGFyYW1zCiAgfSk7Cn07CmV4cG9ydCB2YXIgcHV0UmVxdWVzdCA9IGZ1bmN0aW9uIHB1dFJlcXVlc3QodXJsLCBwYXJhbXMpIHsKICByZXR1cm4gYXhpb3MoewogICAgbWV0aG9kOiAncHV0JywKICAgIHVybDogIiIuY29uY2F0KGJhc2UpLmNvbmNhdCh1cmwpLAogICAgZGF0YTogcGFyYW1zCiAgfSk7Cn07CmV4cG9ydCB2YXIgZ2V0UmVxdWVzdCA9IGZ1bmN0aW9uIGdldFJlcXVlc3QodXJsLCBwYXJhbXMpIHsKICByZXR1cm4gYXhpb3MoewogICAgbWV0aG9kOiAnZ2V0JywKICAgIHVybDogIiIuY29uY2F0KGJhc2UpLmNvbmNhdCh1cmwpLAogICAgcGFyYW1zOiBwYXJhbXMKICB9KTsKfTsKZXhwb3J0IHZhciBkZWxldGVSZXF1ZXN0ID0gZnVuY3Rpb24gZGVsZXRlUmVxdWVzdCh1cmwsIHBhcmFtcykgewogIHJldHVybiBheGlvcyh7CiAgICBtZXRob2Q6ICdkZWxldGUnLAogICAgdXJsOiAiIi5jb25jYXQoYmFzZSkuY29uY2F0KHVybCksCiAgICBwYXJhbXM6IHBhcmFtcwogIH0pOwp9Ow=="},{"version":3,"sources":["F:/java-workspace/vhr/vuehr/src/utils/api.js"],"names":["axios","Message","router","interceptors","response","use","success","status","data","error","message","msg","err","replace","base","postKeyValueRequest","url","params","method","transformRequest","ret","i","encodeURIComponent","console","log","headers","postRequest","putRequest","getRequest","deleteRequest"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport {Message} from \"element-ui\";\r\nimport router from \"@/router\";\r\n\r\naxios.interceptors.response.use(success => {\r\n    if (success.status && success.status == 200 && success.data.status == 500) {\r\n        Message.error({message: success.data.msg})\r\n        return;\r\n    }\r\n    if (success.data.msg) {\r\n        Message.success({message: success.data.msg})\r\n    }\r\n    return success.data;\r\n}, err => {\r\n    if (err.response.status == 504 || err.response.status == 404) {\r\n        Message.error({message: '服务器被吃了o(╯□╰)o'})\r\n    } else if (err.response.status == 403) {\r\n        Message.error({message: '权限不足，请联系管理员'})\r\n    } else if (err.response.status == 401) {\r\n        Message.error({message: '尚未登录，请登录'})\r\n        router.replace('/')\r\n    } else {\r\n        if (err.response.data.msg) {\r\n            Message.error({message: err.response.data.msg})\r\n        } else {\r\n            Message.error({message: \"未知错误！\"})\r\n        }\r\n    }\r\n    return;\r\n})\r\n\r\nlet base = '';\r\n\r\nexport const postKeyValueRequest = (url, params) => {\r\n    return axios({\r\n        method: 'post',\r\n        url: `${base}${url}`,\r\n        data: params,\r\n        transformRequest: [function (data) {\r\n            let ret = '';\r\n            for (let i in data) {\r\n                ret += encodeURIComponent(i) + '=' + encodeURIComponent(data[i]) + '&'\r\n            }\r\n            console.log(ret);\r\n            return ret;\r\n        }],\r\n        headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n        }\r\n    })\r\n}\r\nexport const postRequest = (url, params) => {\r\n    return axios({\r\n        method: 'post',\r\n        url: `${base}${url}`,\r\n        data: params\r\n    })\r\n}\r\nexport const putRequest = (url, params) => {\r\n    return axios({\r\n        method: 'put',\r\n        url: `${base}${url}`,\r\n        data: params\r\n    })\r\n}\r\nexport const getRequest = (url, params) => {\r\n    return axios({\r\n        method: 'get',\r\n        url: `${base}${url}`,\r\n        params: params\r\n    })\r\n}\r\nexport const deleteRequest = (url, params) => {\r\n    return axios({\r\n        method: 'delete',\r\n        url: `${base}${url}`,\r\n        params: params\r\n    })\r\n}"]}]}